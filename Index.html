<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Velox Boxing | Tienda Online</title>
  <link rel="icon" href="./SVGs/logoVelox.png" type="image/png">

  <!--Estilos externos de hojas de estilos-->
  <link rel="stylesheet" href="./CSS/style_index.css" />
  <link rel="stylesheet" href="CSS/styleSlider.css" />

  <style>
    * {
      margin: 0%;
      padding: 0%;
      box-sizing: border-box;
      font-family: Arial, Helvetica, sans-serif
    }

    .footer_Row {
      display: flex;
      justify-content: space-between;
      padding-top: 40px;
      padding-left: 100px;
      padding-right: 100px;
      padding-bottom: 40px;
    }

    .footer_Col ul {
      list-style: none;
    }

    .footer_Col h4 {
      color: #fff;
      margin-bottom: 10px;
      font-size: 20px;
      font-weight: 700;
    }

    .footer_Col ul li {
      padding: 5px 0;
    }

    .footer_Col ul li a {
      color: #fff;
      text-decoration: none;
      font-size: 16px;
      opacity: 0.7;
      transition: 0.4s;
    }

    .footer_Col ul li a:hover {
      opacity: 1;
    }

    .footer_Col input {
      border: none;
      width: 250px;
      height: 35px;
      display: block;
      padding-left: 20px;
      margin: 10px;
    }

    .footer_Col .inputSubmit {
      background-color: #000000;
      border: 1px solid;
      color: #fff;
      width: 250px;
      height: 35px;
      display: block;
      margin: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .footer_Col .inputSubmit:hover {
      background-color: #ad013a;
      transform: scale(1.05);
    }

    hr {
      border: none;
      height: 1px;
      background-color: #fff;
      opacity: 0.7;
    }

    .footer_Bottom {
      text-align: center;
      font-size: 14px;
      padding-top: 40px;
      padding-bottom: 40px;
      color: #fff;
      background-color: #000;
    }

    .footer_Col .social_Icons {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 20px;
    }

    .footer_Col .social_Icons a {
      display: inline-block;
      color: #fff;
      margin: 0 25px;
      scale: 1.5;
      transition: all 0.3s ease;
    }

    .footer_Col .social_Icons a:hover {
      color: #ad013a;
      transform: scale(1.2);
    }

    html,
    body {
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    main {
      flex: 1;
    }

    footer {
      background-color: #000000;
      color: #fff;
    }

    .ventana {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.6);
    }

    .ventana-content {
      background-color: #fff;
      margin: 5% auto;
      padding: 30px;
      border: 1px solid #888;
      width: 90%;
      max-width: 800px;
      border-radius: 10px;
      position: relative;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .ventana .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      position: absolute;
      top: 10px;
      right: 20px;
      cursor: pointer;
    }

    .ventana .close:hover,
    .ventana .close:focus {
      color: #000;
      text-decoration: none;
      cursor: pointer;
    }

    .ventana-content>div {
      max-height: 70vh;
      overflow-y: auto;
      padding-right: 10px;
      font-family: 'Segoe UI', sans-serif;
      font-size: 15px;
      line-height: 1.7;
      color: #333;
    }

    .ventana-content h2,
    .ventana-content h3,
    .ventana-content h4 {
      color: #111;
      margin-top: 20px;
    }

    .ventana-content ul {
      padding-left: 20px;
      margin: 10px 0;
    }

    .ventana-content li {
      margin-bottom: 10px;
    }

    .ventana-content a {
      color: #000;
      text-decoration: underline;
    }

    .ventana-content a:hover {
      color: #555;
    }

    .ventana-content p {
      margin-bottom: 15px;
    }

    .close {
      position: absolute;
      right: 15px;
      top: 10px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      color: #000;
    }

    .texto-legal {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-size: 19px;
      line-height: 1.9;
      color: #222;
      padding: 20px;
      max-width: 900px;
      margin: auto;
    }

    .texto-legal h1,
    .texto-legal h3,
    .texto-legal h4 {
      font-weight: 700;
      color: #000;
      margin-top: 30px;
      margin-bottom: 15px;
      line-height: 1.4;
    }

    .texto-legal h1 {
      font-size: 30px;
    }

    .texto-legal h3 {
      font-size: 26px;
    }

    .texto-legal h4 {
      font-size: 22px;
    }

    .texto-legal p,
    .texto-legal li {
      font-weight: 500;
      font-size: 19px;
      margin-bottom: 16px;
      text-align: justify;
    }

    .texto-legal a {
      color: #000;
      text-decoration: underline;
      font-weight: 600;
      transition: color 0.3s ease;
    }

    .texto-legal a:hover {
      color: #ad013a;
    }

    .texto-legal ul {
      padding-left: 25px;
      list-style-type: disc;
    }

    /* Estilos para el modal de detalles del producto */
    .producto-modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.8);
    }

    .modal-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 30px;
      border: 1px solid #888;
      width: 80%;
      max-width: 700px;
      border-radius: 10px;
      position: relative;
    }

    .close-modal {
      color: #aaa;
      position: absolute;
      top: 15px;
      right: 25px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close-modal:hover {
      color: #000;
    }

    .producto-detalles {
      display: flex;
      gap: 30px;
    }

    .producto-imagen {
      flex: 1;
    }

    .producto-imagen img {
      width: 100%;
      border-radius: 8px;
    }

    .producto-info {
      flex: 1;
    }

    .producto-info h2 {
      color: #ad013a;
      margin-bottom: 15px;
    }

    .producto-info .precio {
      font-size: 24px;
      font-weight: bold;
      margin: 15px 0;
      color: #000;
    }

    .producto-info .descripcion {
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .btn-comprar {
      background-color: #ad013a;
      color: white;
      border: none;
      padding: 12px 25px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 5px;
      transition: all 0.3s;
    }

    .btn-comprar:hover {
      background-color: #8a002f;
      transform: scale(1.05);
    }

    /* Estilos para mensajes de error */
    .error-message {
      text-align: center;
      padding: 20px;
      color: #ad013a;
      font-size: 18px;
      background-color: #f8d7da;
      border-radius: 5px;
      margin: 20px auto;
      max-width: 600px;
    }

    /* Responsive para móviles */
    @media (max-width: 767.98px) {
      .footer_Row {
        flex-direction: column;
        padding: 20px;
      }

      .footer_Col {
        width: 100%;
        margin-bottom: 30px;
        text-align: center;
      }

      .footer_Col input,
      .footer_Col .inputSubmit {
        width: 90%;
        margin: 10px auto;
      }

      .footer_Col .social_Icons {
        flex-wrap: wrap;
        gap: 15px;
      }

      .footer_Col .social_Icons a {
        margin: 0 10px;
        font-size: 20px;
        scale: 1.3;
      }

      .footer_Bottom {
        font-size: 12px;
        padding: 20px;
      }

      .producto-detalles {
        flex-direction: column;
      }

      .modal-content {
        width: 95%;
        margin: 10% auto;
      }
    }
  </style>

  <!--Font awesome, para las figuritas en el menu etc...-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!--Bootstrap (esenciales para el carrusel de sephora)-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>

<body>
  <!--===========HEADER==============-->
  <header>
    <div class="header-left">
      <button class="hamburger-btn" id="hamburgerBtn">
        <i class="fas fa-bars"></i>
      </button>

      <button class="button" data-text="VELOX BOX">
        <span class="actual-text">&nbsp;VELOX BOXING&nbsp;</span>
        <span class="hover-text">&nbsp;VELOX BOXING&nbsp;</span>
      </button>
    </div>
    <!--estos dos, el de arriba y el de abajo son para el logo animado-->
    <div class="cart-icon-container">
      <a href="#" id="cart-toggle" class="menu-item" style="color: white; text-decoration: none; font-size: 1.2rem;">
        <i class="fas fa-shopping-cart"></i>
        <span id="cart-count">0</span>
      </a>
    </div>
  </header>
  <!--============MENU LATERAL============-->
  <div class="menu-overlay" id="menuOverlay"></div>

  <div class="menu-container" id="menuContainer">
    <!-- Input de búsqueda dentro del menú -->
    <div class="menu-search">
      <input class="input" id="searchInput" name="text" placeholder="Buscar..." type="search">
    </div>

    <div class="menu-section">
      <div class="menu-title">Principal</div>
      <!--Icono de menú-->
      <a href="Index.html" class="menu-item">
        <i class="fas fa-home"></i>
        <span class="menu-item-text">Inicio</span>
      </a>
      <!-- Nuevo ítem de Mis Productos -->
      <a href="Compras_Carrito.html" class="menu-item">
        <i class="fas fa-shopping-cart"></i>
        <span class="menu-item-text">Mis Productos</span>
      </a>
    </div>

    <div class="menu-section">
      <!--temporal hasta conectar la base de datos y el form-->
      <div class="menu-title">Contenido</div>
      <!--Icono de playera-->
      <a href="Productos_playeras.html" class="menu-item">
        <i class="fas fa-tshirt"></i>
        <span class="menu-item-text">Playera</span>
      </a>
      <!--Icono de Pans-->
      <a href="Productos_Pans.html" class="menu-item">
        <i class="fas fa-running"></i>
        <span class="menu-item-text">Pans</span>
      </a>
      <!--Icono de guantes de box-->
      <a href="Productos_Guantes.html" class="menu-item">
        <i class="fas fa-hand-rock"></i>
        <span class="menu-item-text">Guantes de Box</span>
      </a>
      <!--Icono de cascos a corregir-->
      <a href="Productos_Cascos.html" class="menu-item">
        <i class="fas fa-hard-hat"></i>
        <span class="menu-item-text">Cascos de Box</span>
      </a>
    </div>

    <div class="menu-section">
      <div class="menu-title">Configuración</div>
      <a href="#" class="menu-item">
        <i class="fas fa-cog"></i>
        <span class="menu-item-text">Ajustes</span>
      </a>
      <a href="#" class="menu-item">
        <i class="fas fa-user"></i>
        <span class="menu-item-text">Perfil</span>
      </a>
      <a href="#" class="menu-item">
        <i class="fas fa-sign-out-alt"></i>
        <span class="menu-item-text">Cerrar sesión</span>
      </a>
    </div>
  </div>

  <!-- Carrusel de imágenes -->
  <section id="carouselExample" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
    <div class="carousel-inner">
      <div class="carousel-item active"><img src="SVGs/banner02.png" class="d-block w-100" alt="Banner 1"></div>
      <div class="carousel-item"><img src="SVGs/banner02.png" class="d-block w-100" alt="Banner 2"></div>
      <div class="carousel-item"><img src="SVGs/banner02.png" class="d-block w-100" alt="Banner 3"></div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Siguiente</span>
    </button>
  </section>

  <!--================SLIDER LOGOS INFINITOS=====================-->
  <section class="infinite-slider">
    <h4>
      <div class="sliderLogos">
        <div class="logos_Slide">
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
        </div>
        <div class="logos_Slide">
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
          <img src="SVGs/Sephora.svg" />
          <img src="SVGs/NewSeason.svg" />
        </div>
      </div>
    </h4>
  </section>

  <!--==================SECCION PRODUCTOS DESTACADOS=============================-->
  <section class="card-sephora">
    <div class="div10">
      <div class="div11"></div>
      <div class="div12"></div>

      <div class="div13">
        <h3 class="estiloTitulos">NUESTROS FAVORITOS</h3>
        <div class="swiper mySwiper">
          <div class="swiper-wrapper" id="productos-container">
            <!-- Los productos se cargarán aquí dinámicamente -->
          </div>
          <!-- Botones de navegación -->
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-pagination"></div>
        </div>
      </div>
      <div class="div14"></div>
    </div>
  </section>

  <!-- Modal para detalles del producto -->
  <div id="productoModal" class="producto-modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <div class="producto-detalles" id="producto-detalles">
        <!-- Los detalles del producto se cargarán aquí -->
      </div>
    </div>
  </div>

  <!--================SECCION DE PRESENTACION======================-->
  <section class="sectionIDK">
    <div class="Img-container-index">
      <img src="https://www.veloxboxing.shop/cdn/shop/files/IMG_9854.jpg?v=1746425140&width=535">
    </div>
    <div class="Text-container-index">
      <p>
        En Velox Boxing, no solo vendemos ropa. Forjamos una Mentalidad.
        Cada prenda de Velox Boxing está diseñada para reflejar la esencia del peleador. No es solo lo que llevas, es lo
        que representas. Queremos que, al vestir nuestra marca, sientas la misma energía que sientes cuando entras al
        ring: firmeza, seguridad, poder.
      </p>
    </div>
  </section>

  <!--================FOOTER======================-->
  <footer>
    <div class="footer_Row">
      <div class="footer_Col">
        <h4>Información</h4>
        <ul>
          <li><a href="#">Acerca de nosotros</a></li>
          <li><a href="#">Nuestras tiendas</a></li>
          <li><a href="#">Política de privacidad</a></li>
          <li><a href="#">Términos y condiciones</a></li>
        </ul>
      </div>

      <div class="footer_Col">
        <h4>Servicio al cliente</h4>
        <ul>
          <li><a href="#">Contáctanos</a></li>
          <li><a href="#">Métodos de pago</a></li>
          <li><a href="#">Cambios y devoluciones</a></li>
          <li><a href="#">Preguntas frecuentes</a></li>
        </ul>
      </div>

      <div class="footer_Col">
        <h4>Newsletter</h4>
        <form>
          <input type="email" placeholder="Ingresa tu correo" required>
          <input type="submit" value="Suscribirse" class="inputSubmit">
        </form>
        <div class="social_Icons">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
    </div>

    <hr>

    <div class="footer_Bottom">
      <p>© 2023 Velox Boxing. Todos los derechos reservados.</p>
    </div>
  </footer>

  <script src="./JS/script_index.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <script>
    const API_BASE_URL = 'http://localhost:8080/api/Productos';

    const modal = document.getElementById("productoModal");
    const closeModal = document.querySelector(".close-modal");
    const productoDetalles = document.getElementById("producto-detalles");

    // Función para abrir el modal con los detalles del producto
    function abrirModal(producto) {
      productoDetalles.innerHTML = `
        <div class="producto-imagen">
          <img src="${producto.imagen || 'https://via.placeholder.com/500'}" alt="${producto.nombre}">
        </div>
        <div class="producto-info">
          <h2>${producto.nombre || 'Producto'}</h2>
          <p class="precio">$${producto.precio || '0'}</p>
          <p class="descripcion">${producto.descripcion || 'Descripción no disponible'}</p>
          <button class="btn-comprar">Añadir al carrito</button>
        </div>
      `;
      modal.style.display = "block";
    }

    // Función para cerrar el modal
    function cerrarModal() {
      modal.style.display = "none";
    }

    // Event listeners para el modal
    closeModal.addEventListener('click', cerrarModal);
    window.addEventListener('click', (event) => {
      if (event.target === modal) {
        cerrarModal();
      }
    });

    // Función para renderizar los productos
    function renderizarProductos(productos) {
      const container = document.getElementById('productos-container');
      container.innerHTML = ''; // Limpiar contenedor antes de agregar nuevos productos

      if (productos.length === 0) {
        container.innerHTML = `
          <div class="error-message">
            <p>No hay productos disponibles en este momento.</p>
          </div>
        `;
        return;
      }

      productos.forEach(producto => {
        const cardHTML = `
  <div class="swiper-slide">
    <div class="card">
      <div class="image-content">
        <span class="overlay"></span>
        <div class="card-image">
          <img src="${producto.imagen?.[0] || 'https://via.placeholder.com/300'}" alt="${producto.nombre}" class="card-img" 
               onerror="this.src='https://via.placeholder.com/300'"/>
        </div>
      </div>
      <div class="card-content">
        <h3 class="name">${producto.nombre || 'Producto'}</h3>
        <p class="description">$${producto.precio || '0'}</p>
        <button class="cardButton" data-id="${producto.id}">VER MÁS</button>
      </div>
    </div>
  </div>
`;

        container.innerHTML += cardHTML;
      });

      // Agregar event listeners a los botones
      document.querySelectorAll('.cardButton').forEach(button => {
        button.addEventListener('click', (e) => {
          const productId = e.target.getAttribute('data-id');
          mostrarDetallesProducto(productId, productos);
        });
      });

      // Inicializar Swiper después de cargar los productos
      inicializarSwiper();
    }

    // Función para inicializar Swiper
    function inicializarSwiper() {
      new Swiper(".mySwiper", {
        slidesPerView: 1,
        spaceBetween: 10,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
        breakpoints: {
          640: {
            slidesPerView: 2,
            spaceBetween: 20,
          },
          768: {
            slidesPerView: 3,
            spaceBetween: 30,
          },
          1024: {
            slidesPerView: 4,
            spaceBetween: 40,
          },
        },
      });
    }

    // Función para mostrar detalles del producto
    async function mostrarDetallesProducto(id, productos) {
      try {
        // Buscar el producto en la lista ya cargada
        const producto = productos.find(p => p.id == id);

        if (producto) {
          abrirModal(producto);
        } else {
          // Si no está en la lista, hacer una petición individual
          const response = await fetch(`${API_BASE_URL}/${id}`);

          if (!response.ok) {
            throw new Error(`Error HTTP: ${response.status}`);
          }

          const productoIndividual = await response.json();
          abrirModal(productoIndividual);
        }
      } catch (error) {
        console.error('Error al obtener detalles del producto:', error);
        alert('No se pudieron cargar los detalles del producto');
      }
    }

    // Obtener productos desde tu endpoint Spring Boot
    async function obtenerProductos() {
      try {
        const response = await fetch(API_BASE_URL);

        if (!response.ok) {
          throw new Error(`Error HTTP: ${response.status}`);
        }

        const productos = await response.json();

        // Verificar que la respuesta sea un array
        if (!Array.isArray(productos)) {
          throw new Error('La respuesta no es un array de productos');
        }

        renderizarProductos(productos);
      } catch (error) {
        console.error('Error al obtener productos:', error);

        // Mostrar mensaje de error al usuario
        const container = document.getElementById('productos-container');
        container.innerHTML = `
          <div class="error-message">
            <p>No se pudieron cargar los productos. Por favor intenta más tarde.</p>
            <p>${error.message}</p>
          </div>
        `;
      }
    }

    // Llamar a la función cuando el DOM esté cargado
    document.addEventListener('DOMContentLoaded', obtenerProductos);
  </script>
</body>

</html>